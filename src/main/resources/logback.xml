<!--
        ~ For more information on this file see:
        ~           http://logback.qos.ch/manual/layouts.html
        ~ Original modified from RedHat and repurposed for FlashMonkey
        ~ Copyright (c) 2019 Lowell Stadelman and iOOily
        ~ Copyright (c) 2017 Red Hat, Inc. and/or its affiliates.
        ~ Copyright (c) 2017 INSA Lyon, CITI Laboratory.
        ~
        ~ Licensed under the Apache License, Version 2.0 (the "License");
        ~ you may not use this file except in compliance with the License.
        ~ You may obtain a copy of the License at
        ~
        ~     http://www.apache.org/licenses/LICENSE-2.0
        ~
        ~ Unless required by applicable law or agreed to in writing, software
        ~ distributed under the License is distributed on an "AS IS" BASIS,
        ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
        ~ See the License for the specific language governing permissions and
        ~ limitations under the License.
        -->

<configuration debug="true" scan="true">

    <!--<property name="LOG_DIR" value="/Users/localmini/Desktop/logs/flashmonkey-app.txt"/>-->
    <property name="LOG_DIR" value="C:/Users/Me/Desktop/logs/flashmonkey-app"/>

    <appender name="STDOUT" class="ch.qos.logback.core.ConsoleAppender">
        <encoder class="ch.qos.logback.classic.encoder.PatternLayoutEncoder">
            <pattern>%d %highlight(%level) %logger{10} [%M] - %msg%n</pattern>
        </encoder>
    </appender>

    <!--<appender name="FILE" class="ch.qos.logback.core.rolling.RollingFileAppender">
        <file>${LOG_DIR}.html</file>
        <rollingPolicy class="ch.qos.logback.core.rolling.TimeBasedRollingPolicy">

            <fileNamePattern>${LOG_DIR}.%d{yyyy-MM-dd}.txt</fileNamePattern>

            <maxHistory>30</maxHistory>
            <totalSizeCap>1GB</totalSizeCap>
        </rollingPolicy>
        <triggeringPolicy class="ch.qos.logback.core.rolling.SizeBasedTriggeringPolicy">
            <maxFileSize>3MB</maxFileSize>
        </triggeringPolicy>
        <encoder class="ch.qos.logback.core.encoder.LayoutWrappingEncoder">
            <layout class="ch.qos.logback.classic.html.HTMLLayout">
                <pattern>%date{HH:mm:ss.SSS}%level%logger{12}%M%msg</pattern>
            </layout>
        </encoder>
    </appender>
    -->

    <!-- custom reporting to db -->
   <appender name="ERROR_REPORT" class="campaign.ReportError"/>



    <logger name="CreateFlash" level="warn" >
        <appender-ref ref="STDOUT" />
        <appender-ref ref="FILE"/>
    </logger>
    <logger name="FlashCardOps" level="warn">
        <appender-ref ref="STDOUT" />
        <appender-ref ref="FILE"/>
    </logger>


    <!-- LEAVE AT WARN or COMMENT OUT ERROR_REPORT -->
    <!-- WHEN TESTING LOCALLY, COMMENT OUT ERROR_REPORT -->
    <root level="warn">
        <appender-ref ref="STDOUT"/>
        <appender-ref ref="FILE"/>
        <appender-ref ref="ERROR_REPORT"/>
    </root>


</configuration>
